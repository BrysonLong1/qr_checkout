{% extends "base.html" %}

{% block title %}Login – Teameventlock{% endblock %}

{% block extra_head %}
  <style>
    :root {
      --bg: #000; --card: #111; --text: #fff; --muted: #b3b3b3;
      --error: #ff6b6b; --btn-grad: linear-gradient(90deg, orange, deeppink);
      --radius: 14px;
    }
    /* Scope to this page; don't style <body> directly */
    .login-wrap {
      min-height: 70vh; display: grid; place-items: center; padding: 24px;
    }
    .card {
      width: 100%; max-width: 420px; background: var(--card);
      padding: 28px; border-radius: var(--radius);
      box-shadow: 0 10px 30px rgba(0,0,0,.5); text-align: center;
      color: var(--text);
    }
    .logo { width: 260px; max-width: 80%; display: block; margin: 0 auto 12px; }
    h1 { font-size: 26px; margin: 8px 0 6px; font-weight: 700; }
    .desc { font-size: 14px; color: var(--muted); margin: 0 0 18px; line-height: 1.4; }
    form { margin-top: 6px; }
    .field { text-align: left; margin: 12px 0 4px; }
    label { display: inline-block; font-size: 12px; color: var(--muted); margin-bottom: 6px; }
    input[type="email"], input[type="password"] {
      width: 100%; padding: 12px 14px; border: 1px solid #2a2a2a;
      border-radius: 10px; background: #0b0b0b; color: var(--text);
      font-size: 16px; outline: none;
    }
    input[type="email"]:focus, input[type="password"]:focus { border-color: #5a5a5a; }
    .error { color: var(--error); font-size: 12px; margin-top: 6px; }
    .flash {
      margin-top: 12px; background: #1a0000; border: 1px solid #330000;
      color: #ffb3b3; border-radius: 10px; padding: 10px 12px; text-align: left;
    }
    .btn {
      width: 100%; display: inline-block; margin-top: 14px; padding: 12px 16px;
      border-radius: 10px; border: none; background: var(--btn-grad);
      color: #fff; font-weight: 700; font-size: 16px; cursor: pointer;
    }
    .btn:active { transform: translateY(1px); }
    .register { margin-top: 14px; font-size: 14px; color: var(--muted); }
    .register a { color: deeppink; text-decoration: underline; }
  </style>
{% endblock %}

{% block content %}
  <div class="login-wrap">
    <div class="card">
      <img class="logo" src="{{ url_for('static', filename='thelogo.png') }}" alt="FXBG Summers Logo" />
      <h1>Welcome to Teameventlock</h1>
      <p class="desc">Fast bar service, smart checkout, and smooth events—start by logging in.</p>

      <form method="POST" novalidate>
        {{ form.hidden_tag() }}

        <div class="field">
          <label for="email">Email</label>
          {{ form.email(id="email", type="email", placeholder="you@example.com", autocomplete="email", autofocus=True) }}
          {% if form.email.errors %}
            <div class="error">{{ form.email.errors[0] }}</div>
          {% endif %}
        </div>

        <div class="field">
          <label for="password">Password</label>
          {{ form.password(id="password", type="password", placeholder="••••••••", autocomplete="current-password") }}
          {% if form.password.errors %}
            <div class="error">{{ form.password.errors[0] }}</div>
          {% endif %}
        </div>

        {{ form.submit(class_="btn", value="Log In") }}
      </form>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash">
            {% for message in messages %}
              <div>{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <p class="register">
        Don’t have an account?
        <a href="{{ url_for('register') }}">Register here</a>
      </p>
    </div>
  </div>
{% endblock %}
