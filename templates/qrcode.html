{% extends "base.html" %}

{% block title %}Scan to Pay – Teameventlock{% endblock %}

{% block extra_head %}
<style>
  .wrap { min-height: 70vh; display:flex; align-items:center; justify-content:center; }
  .qr-card { background:#111; color:#fff; padding:28px; border-radius:14px; box-shadow:0 10px 30px rgba(0,0,0,.5); text-align:center; }
  .qr-card img { width: 300px; height: 300px; display:block; margin: 0 auto; }
  .gbtn { background: linear-gradient(90deg, orange, deeppink); }
  .gbtn:hover { filter: brightness(1.05); }
</style>
{% endblock %}

{% block content %}
<div class="wrap">
  <div class="qr-card">
    <h2 class="text-xl font-bold mb-2">Scan to Pay</h2>

    {% if ticket_name %}
      <div class="mb-2 text-sm opacity-80"><strong>{{ ticket_name }}</strong></div>
      {% if total_price is not none %}
        <div class="mb-4 text-sm opacity-80">Total: ${{ '%.2f' % total_price }}</div>
      {% endif %}
    {% endif %}

    <img src="data:image/png;base64,{{ img_data }}" alt="QR Code">

    <p class="mt-3 text-sm opacity-80">Use your phone camera to scan the code and complete your purchase.</p>
    <a href="{{ url_for('index') }}" class="inline-block mt-4 px-4 py-2 rounded-md gbtn text-white font-semibold">← Back</a>
  </div>
</div>
{% endblock %}
